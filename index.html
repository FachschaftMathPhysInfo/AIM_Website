<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <meta name="description" content="Die fern-ArbeitsgruppenInspirationsMesse (fAIM) der Fachschaft MathPhysInfo" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>AIM &middot; Fachschaft MathPhysInfo</title>
    <script src="jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script> <!-- Fancybox -->
    <link rel="icon" type="image/png" href="favicon.png" />
    <link rel="stylesheet" href="bulma-0.9.1.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" /> <!-- Fancybox -->
    <link rel="stylesheet" href="styles.css">
    <script>
    var whash = window.location.hash;
    var DEFAULT_LANG = "de";
    if (whash == "#en") {
        DEFAULT_LANG = "en";
    }
    function displayTotalGroupCount(data, lang) {
    // Count the total number of groups
    const totalGroups = Object.keys(data.groups).length;

    // Determine the message based on the language
    let message = "";
    if (lang === "de") {
        message = `Hier findet ihr Übersicht von den mehr als ${totalGroups} teilnehmenden Gruppen!`;
    } else {
        message = `Here is an overview of the more than ${totalGroups} participating groups!`;
    }

    // Display the count in the #group-count element
    // CHANGE AFTER 2025
    $("#group-count").text('Leider wird die Webseite für diese AIM im Sommer 2025 nicht aktualisiert. Ihr findet hier noch Informationen zur letzten AIM. Die Webseite gibt immer noch einen Überblick über Physik Arbeitsgruppen in Heidelberg');
}
    function getGroupsFromField(data, fieldID, lang) {
        var items = [];
        // get properties from JSON file
        $.each( data.groups, function( key, obj ) {
            if (obj.field == fieldID) {
                // image
                var img = "";
                if (obj.hasOwnProperty("image") && obj.image){
                    img = "<a href='" + obj.image + "' data-fancybox><img class='group-img' src='" + obj.image + "' /></a>";                }
                var vid = "";
                if (obj.hasOwnProperty("video")){
                    vid = "<video class='group-video' controls><source src='" + obj.video + "' type='video/mp4'><a href='" + obj.video_url + "'>Video ansehen</a></video> ";
                    if (key == 'VXB') {
                        video2='uploads/BECBECK_Trailer.mp4';
                        video2_url='https://heibox.uni-heidelberg.de/f/9404b2e5f18f440d9474/';
                        vid = vid + "<video class='group-video' controls><source src='" + video2 + "' type='video/mp4'><a href='" + video2_url + "'>Video ansehen</a></video> ";
                    }
                }
                // description text
                var text = obj.text;
                if (text.hasOwnProperty(lang)) {
                    text = text[lang];
                } else if (text.hasOwnProperty(DEFAULT_LANG)) {
                    text = text[DEFAULT_LANG]; // set to default language
                }
                // url to group website
                var link = obj.name;
                if (obj.hasOwnProperty("link")){
                    link = "<a href='" + obj.link + "' target='_" + key + "'>" + obj.name + "</a>";
                }
                items.push( "<div class='group-item' id='" + key + "'>"
                + "<div class='group-title'><h3>" + link + "</h3></div>"
                + "<div class='columns is-desktop'>"
                + "<div class='column is-two-thirds-desktop text'><div class='group-name'>" + obj.profs+ "</div><p>" + text + "</p></div>"
                + "<div class='column img-container'>" + img + vid + "</div>"
                + "</div></div>" );
            }
        });
        // append object to ul
        $( "<ul/>", {
            "class": "my-new-list",
            html: items.join( "" )
        }).appendTo( "#groups" );

        return items.length;
    }

    function fieldHeader(data, fieldID, lang) {
        var obj = data.fields[fieldID];
        $( "#groups" ).append(
            "<div class='columns field-header'>"
            + "<div class='column is-narrow'><div class='icon-container'><img src='icons/" + obj.icon + "' width='131px'/></div></div>"
            + "<div class='column'><h2 id='" + fieldID + "'>" + obj.name[lang] + "</h2><p>&nbsp;</p></div>"
            + "</div>"
        );
    }

    function setIcons(data) {
        var items = [];
        $.each( data.fields, function( key, obj ) {
            items.push( "<div class='column is-narrow field-icon' id='icon-" + key + "'>"
            + "<a href='#" + key + "'><div class='icon-container'><img src='icons/" + obj.icon + "' width='131px' /></div>"
            + "<p class='icon-desc'></p></a></div>" );
        });
        $( "#fields" ).append(items.join( "" ));
    }

    function setIconLabels(data, lang) {
        $.each( data.fields, function( key, obj ) {
            $( "#icon-" + key + " p.icon-desc" ).text(obj.name[lang]);
        });
    }

    function noGroupsMessage(lang) {
        if (lang == 'de') {
            return "noch keine Gruppen registriert";
        }
        else {
            return "No groups registered so far"
        }
    }

    function goto(whash) {
        location.hash = whash.slice(1);
    }

    $( document ).ready(function() {
        var ilen;
        $.getJSON( "groups2025.json", function( datag ) {
            $.getJSON( "fields.json", function( data ) {
                // Display the total group count
                displayTotalGroupCount(datag, DEFAULT_LANG);
                setIcons(data);
                setIconLabels(data, DEFAULT_LANG);
                setLanguage(DEFAULT_LANG);
                $.each( data.fields, function( key, obj ) {
                    fieldHeader(data,key,DEFAULT_LANG);
                    ilen = getGroupsFromField(datag,key,DEFAULT_LANG)
                    if (ilen==0) {
                        var nogr = noGroupsMessage(DEFAULT_LANG);
                        $( "#groups" ).append('<div class="group-item"><p><i>' + nogr + '</i></p></div>')
                    }
                });
                window.setTimeout(goto, 500, whash);
            });
        });
    });

    function setLanguage(lang) {
        if (lang == "de") {
            $( "#aim-welcome-en" ).css('display','none');
            $( "#aim-title-en" ).css('display','none');
            $( "#aim-welcome-de" ).css('display','block');
            $( "#aim-title-de" ).css('display','block');  
        } else if (lang == "en") {
            $( "#aim-welcome-de" ).css('display','none');
            $( "#aim-title-de" ).css('display','none');
            $( "#aim-welcome-en" ).css('display','block');
            $( "#aim-title-en" ).css('display','block');
        }
        $.getJSON( "fields.json", function( data ) {
            setIconLabels(data, lang);
            $( '#groups' ).html('');
            $.getJSON( "groups2025.json", function( datag ) {
                $.each( data.fields, function( key, obj ) {
                    fieldHeader(data,key,lang);
                    ilen = getGroupsFromField(datag,key,lang);
                    if (ilen==0) {
                        var nogr = noGroupsMessage(lang);
                        $( "#groups" ).append('<div class="group-item"><p><i>' + nogr + '</i></p></div>')
                    }
                });
            });
        });
    }
    </script>
</head>
<body>
<!-- Navigation bar -->
<nav class="navbar has-shadow" role="navigation" aria-label="main navigation" id="navb">
    <div class="navbar-brand">
        <a class="navbar-item" href="https://aim.mathphys.info/">
        <img src="weblogo.jpg">
        </a>
    
        <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="faim-navbar-menu">
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
        </a>
    </div>
    
    <div id="faim-navbar-menu" class="navbar-menu is-fixed">
        <div class="navbar-start">
        <a class="navbar-item is-secondary" href="index.html">
            Übersicht
        </a>
        <a class="navbar-item is-secondary" href="raumplan.html">
            Raumplan
        </a>
        </div>
    
        <div class="navbar-end">
        <a class="navbar-item is-secondary" href="impressum.html">
            Impressum
        </a>
        <a class="navbar-item is-secondary" href="kontakt.html">
            Kontakt
        </a>
        <a class="navbar-item is-secondary" id="lang-de">
            <img src="de.svg" width="18px" /> &nbsp; Deutsch
        </a>
        <a class="navbar-item is-secondary" id="lang-en">
            <img src="en.svg" width="18px" /> &nbsp; English
        </a>
        </div>
    </div>
</nav>

<script>
    $('.navbar-burger').click(function() {
        $('#faim-navbar-menu, .navbar-burger').toggleClass('is-active');
    });

    $( "a#lang-de" ).click(function() {
        setLanguage("de");
    });
    $( "a#lang-en" ).click(function() {
        setLanguage("en");
    });
</script>

<div id="page-content">
<!-- Header -->
<div id="header">
    <div id="aim-title-de" class="aim-title">
        <h1>Herzlich Willkommen bei der AIM!</h1>
        <h3>Arbeitsgruppen&shy;Inspitations&shy;Messe</h3>
    </div>
    <div id="aim-title-en" class="aim-title">
        <h1>Welcome to AIM!</h1>
        <h3>Working Group Inspiration Fair</h3>
    </div>
    <div id="aim-welcome-de">
        <p>Wir, die <a href="https://mathphys.info">Fachschaft MathPhysInfo</a>, möchten euch herzlich auf der Website der Arbeitsgruppen&shy;Inspirations&shy;Messe (AIM) begrüßen.</p>
        <div class="faq-divs">
            <div class="field is-horizontal field-cont">
                <div class="field-label is-normal">
                    <label class="label">Wann?</label>
                </div>
                <div class="field-body">
                    <div class="field">
                        <p>Donnerstag, 12. Juni 2025, ab 16:00 Uhr</p>
                    </div>
                </div>
            </div>
            <div class="field is-horizontal field-cont">
                <div class="field-label is-normal">
                    <label class="label">Wo?</label>
                </div>
                <div class="field-body">
                    <div class="field">
                        <p>Im Hörsaalfoyer des Kirchoff-Instituts für Physik und dem geteilten Nordfoyer des Kirchoff-Instituts und Physikalischen Instituts.</p>
                    </div>
                </div>
            </div>
            <div class="field is-horizontal field-cont">
                <div class="field-label is-normal">
                    <label class="label">Für wen?</label>
                </div>
                <div class="field-body">
                    <div class="field">
                        <p>Für <b>alle</b> Studierenden der Fächer Physik,<br />egal ob im 1. Semester oder kurz vor der Masterarbeit!</p>
                    </div>
                </div>
            </div>
        </div>
        <!-- sorry for the inline css -->
        <p><div id="group-count" style="color: red; padding: 1rem; border: 1px solid red;"></div></p>
    </div>
    <div id="aim-welcome-en">
        <p>We, the physics student council (<a href="https://mathphys.info">Fachschaft MathPhysInfo</a>) would like to welcome you on the website of this year's working group inspiration fair.</p>
        <div class="faq-divs">
            <div class="field is-horizontal field-cont">
                <div class="field-label is-normal">
                    <label class="label">When?</label>
                </div>
                <div class="field-body">
                    <div class="field">
                        <p>Thursday, June 12th, 2025, starting at 4&nbsp;p.m.</p>
                    </div>
                </div>
            </div>
            <div class="field is-horizontal field-cont">
                <div class="field-label is-normal">
                    <label class="label">Where?</label>
                </div>
                <div class="field-body">
                    <div class="field">
                        <p>In the lecture hall foyer of the Kirchhoff-Institute for Physics and the shared north foyer of the Kirchhoff-Institute and the Physical Institute</p>
                    </div>
                </div>
            </div>
            <div class="field is-horizontal field-cont">
                <div class="field-label is-normal">
                    <label class="label">For whom?</label>
                </div>
                <div class="field-body">
                    <div class="field">
                        <p>All physics students are welcome!</p>
                    </div>
                </div>
            </div>
            
        </div>
        <p>Unfortunately, the AIM website will not be updated in the summer of 2025. You can still find information about the last AIM here. The website still provides an overview of physics research groups in Heidelberg</p>
    </div>
</div>
<!-- Overview of reasearch fields -->
<div class="columns is-mobile is-multiline is-centered" id="fields">
</div>
<hr />
<!-- Boxes for each group -->
<div id="groups">
</div> 
<div class="is-full" id="textfoot">
    <p>&copy; Fachschaft MathPhysInfo 2025 &middot; <a href="impressum.html">Impressum</a> &middot; <a href="kontakt.html">Kontakt</a></p>
</div>
</div>
</body>
</html>
